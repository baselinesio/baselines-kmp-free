# Analytics Usage Guide

## Tracking an Event

To track an event, define it by implementing `AnalyticsEvent`, then pass it to the tracker.
Optionally, define context properties you want to be collected and sent with the event.

```kotlin
data class ButtonClick(
    val buttonId: String,
    override val createdAt: Instant = Instant.nowUtc(),
) : AnalyticsEvent {

    override val name = "button_click"

    override val eventProperties = mapOf(
        EventAnalyticsProperty.ButtonId to buttonId
    )

    override val contextProperties: Set<ContextAnalyticsProperty> = setOf(
        ContextAnalyticsProperty.AppVersion,
        ContextAnalyticsProperty.Platform,
        ContextAnalyticsProperty.CurrentPage,
    )
}

analyticsTracker.track(ButtonClick("submit"))
```

## Collect Context Properties

Collect properties that should persist and attach to future events.

```kotlin
// Set global properties (e.g., on app start)
analyticsTracker.track(
    ContextAnalyticsProperty.AppVersion to "1.0.0",
    ContextAnalyticsProperty.Platform to "Android"
)

// Set user properties (e.g., on login)
analyticsTracker.track(
    ContextAnalyticsProperty.UserId to "user_12345"
)
```

## Clearing Context Properties

Clear properties when they are no longer valid to prevent data pollution.

```kotlin
// Clear specific user properties on logout
analyticsTracker.clear(AnalyticsPropertyScope.USER)
```
