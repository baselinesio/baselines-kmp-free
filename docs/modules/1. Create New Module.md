# Create New Module

This guide outlines how to add a new module to the project using `baselines` convention plugins.

## 1. Choose the Layer

Determine where your module belongs to maintain architectural separation:

| Layer         | Purpose                                        |
|:--------------|:-----------------------------------------------|
| **`ui`**      | Feature screens, navigation, theming.          |
| **`domain`**  | Business logic, use-case orchestration, rules. |
| **`data`**    | Repository implementations, network, database. |
| **`toolkit`** | Reusable utilities, DI, logging, crypto, etc.  |

**Action:** Create a directory under the chosen layer (e.g., `ui/profile`).

---

## 2. Configure the Module

Choose the type of module you are building below.

### ğŸ…°ï¸ Option A: Multiplatform Module (Android + iOS)

*Standard choice for most logic and UI.*

**1. Create `build.gradle.kts`**
Create the file inside your new directory and paste the following content.

> **âš ï¸ UI Preview Issue:** If this is a UI module and you need Android Previews to work, replace
`alias(libs.plugins.baselines.multiplatform.android.library)` with `alias(libs.plugins.baselines.android.library)` and
> update the import to
`io.baselines.gradle.android.androidLibrary`.

```kotlin
import io.baselines.gradle.multiplatform.androidLibrary

plugins {
    alias(libs.plugins.baselines.multiplatform.kotlin)
    alias(libs.plugins.baselines.multiplatform.android.library)
    // Only needed if this module contains UI/Compose code
    alias(libs.plugins.baselines.compose)
}

// 1. Set your specific namespace
androidLibrary("com.example.ui.profile")

// 2. Define dependencies
kotlin {
    sourceSets {
        commonMain.dependencies {
            // Shared dependencies
        }
        androidMain.dependencies {
            // Android specific
        }
        iosMain.dependencies {
            // iOS specific
        }
    }
}
```

**2. Create Folder Structure**
Create the source folders matching your namespace (e.g., `com/example/ui/profile`):

```text
ğŸ“‚ src
 â”£ ğŸ“‚ commonMain/kotlin/com/example/ui/profile
 â”£ ğŸ“‚ androidMain/kotlin/com/example/ui/profile
 â”— ğŸ“‚ iosMain/kotlin/com/example/ui/profile
```

---

### ğŸ…±ï¸ Option B: Android-Only Module

*Use for platform-specific features (e.g., Google Services, Camera, Splash).*

**1. Create `build.gradle.kts`**
Create the file inside your new directory and paste the following content.

```kotlin
import io.baselines.gradle.android.androidLibrary

plugins {
    alias(libs.plugins.baselines.android.library)
    // Only needed if this module contains UI/Compose code
    alias(libs.plugins.baselines.compose)
}

// 1. Set your specific namespace
androidLibrary("com.example.ui.profile")

// 2. Define dependencies
dependencies {
    // Android dependencies
}
```

**2. Create Folder Structure**
Create the standard Android source folder matching your namespace:

```text
ğŸ“‚ src
 â”— ğŸ“‚ main/kotlin/com/example/ui/profile
```
